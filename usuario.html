<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chef Ya! | Mi usuario</title>
    <link rel="stylesheet" href="./css/principal.css">
    <link rel="stylesheet" href="./css/usuario.css">
    <script src="./js/usuario.js" defer></script>
</head>

<body>
    <nav class="mobile-nav">
        <a href="principal.html">Principal</a>
        <a href="#" class="active">Mi usuario</a>
        <a href="#">Favoritos</a>
    </nav>

    <header class="main-header">
        <button type="button" id="menu-button" aria-label="menu access button">
            <img src="./assets/icons/menu-2.svg" alt="menu-button" style="width: auto; height: 30px;">
        </button>
        <a href="principal.html">
            <img src="./assets/images/Logo.png" alt="Logo-ChefYa" class="logo">
        </a>
        <div>
            <img src="./assets/icons/map-pin.svg" alt="map-pin icon" style="width: 23px; height: 23px;">
            <p>Acatlima 69004</p>
        </div>
        <form>
            <label>
                <input
                    type="search"
                    name="search-restaurants"
                    placeholder="Buscar restaurantes"
                    class="search-bar"
                >
            </label>
        </form>
        <button type="button" id="shopping-cart" aria-label="shopping-cart button">
            <img src="./assets/icons/shopping-cart.svg" alt="shopping-cart icon" style="width: 30px; height: 30px;">
        </button>
        <button type="button" id="user-login" aria-label="user-login button">
            <img src="./assets/icons/User.svg" alt="user login icon" style="width: 30px; height: 30px;">
        </button>

        <!-- MENÚ DE USUARIO (DESPLEGABLE) -->
        <div id="user-menu" class="user-menu" style="display: none;">
            <p class="user-menu-label">
                <strong>Usuario:</strong>
                <span id="user-name-label">Nombre de usuario</span>
            </p>
            <p class="user-menu-label">
                <strong>Correo:</strong>
                <span id="user-email-label">correo@ejemplo.com</span>
            </p>

            <div class="user-menu-actions">
                <button type="button" id="user-profile-btn">Ver mi usuario</button>
                <button type="button" id="user-logout-btn">Logout</button>
            </div>
        </div>
    </header>

    <main class="usuario-main">
        <section class="usuario-container">
            <header class="usuario-header">
                <h1>Mi perfil</h1>
                <p id="usuario-id-label" class="usuario-id-label"></p>
            </header>
            <section class="usuario-grid">
                <div class="usuario-column usuario-column-right">
                    <section class="usuario-card usuario-card-perfil">
                        <div class="perfil-header">
                            <div class="perfil-avatar">
                                <span id="perfil-avatar-iniciales">U</span>
                            </div>
                            <div class="perfil-header-textos">
                                <h2>Datos del usuario</h2>
                                <p class="usuario-subtitle">
                                    Consulta tu información, edítala solo cuando lo necesites.
                                </p>
                            </div>
                        </div>

                        <form class="perfil-form" id="perfil-form">
                            <label class="perfil-field">
                                <span>Nombre</span>
                                <input
                                    type="text"
                                    id="perfil-nombre"
                                    name="nombre"
                                    placeholder="Tu nombre"
                                    disabled
                                >
                            </label>

                            <label class="perfil-field">
                                <span>Correo</span>
                                <input
                                    type="email"
                                    id="perfil-correo"
                                    name="correo"
                                    readonly
                                    class="perfil-input-readonly"
                                >
                            </label>

                            <label class="perfil-field">
                                <span>Teléfono</span>
                                <input
                                    type="tel"
                                    id="perfil-telefono"
                                    name="telefono"
                                    placeholder="Ej. 555-123-4567"
                                    disabled
                                >
                            </label>

                            <div class="perfil-actions">
                                <!-- Botón para activar modo edición -->
                                <button type="button" id="btn-editar-perfil">
                                    Editar datos
                                </button>

                                <!-- Botón para guardar (solo visible en modo edición) -->
                                <button type="submit" id="btn-guardar-perfil" style="display: none;">
                                    Guardar cambios
                                </button>

                                <p id="perfil-mensaje" class="perfil-mensaje"></p>
                            </div>
                        </form>
                    </section>
                </div>
                <div class="usuario-column usuario-column-left">
                    <section class="usuario-card usuario-card-direcciones">
                        <h2>Mis direcciones</h2>
                        <p class="usuario-subtitle">
                            Lugares donde podemos entregar tus pedidos.
                        </p>

                        <div id="lista-direcciones" class="usuario-lista"></div>

                        <div class="direccion-form-wrapper">
                            <button
                                type="button"
                                id="btn-mostrar-form-direccion"
                                class="direccion-toggle-btn"
                            >
                                Agregar dirección
                            </button>

                            <form id="form-direccion" class="direccion-form" style="display: none;">
                                <h3 id="direccion-form-titulo">Nueva dirección</h3>

                                <div class="direccion-form-grid">
                                    <label class="direccion-field">
                                        <span>Etiqueta</span>
                                        <input
                                            type="text"
                                            id="direccion-etiqueta"
                                            placeholder="Casa, Trabajo, etc."
                                        >
                                    </label>

                                    <label class="direccion-field">
                                        <span>Calle</span>
                                        <input
                                            type="text"
                                            id="direccion-calle"
                                            placeholder="Calle y número"
                                        >
                                    </label>

                                    <label class="direccion-field">
                                        <span>Ciudad</span>
                                        <input
                                            type="text"
                                            id="direccion-ciudad"
                                            placeholder="Ciudad"
                                        >
                                    </label>

                                    <label class="direccion-field">
                                        <span>Estado</span>
                                        <input
                                            type="text"
                                            id="direccion-estado"
                                            placeholder="Estado"
                                        >
                                    </label>

                                    <label class="direccion-field">
                                        <span>Código Postal (opcional)</span>
                                        <input
                                            type="text"
                                            id="direccion-cp"
                                            placeholder="CP"
                                        >
                                    </label>

                                    <label class="direccion-field">
                                        <span>Latitud</span>
                                        <input
                                            type="number"
                                            step="0.000001"
                                            id="direccion-lat"
                                            placeholder="Ej. 18.1234"
                                        >
                                    </label>

                                    <label class="direccion-field">
                                        <span>Longitud</span>
                                        <input
                                            type="number"
                                            step="0.000001"
                                            id="direccion-lng"
                                            placeholder="-97.1234"
                                        >
                                    </label>
                                </div>

                                <div class="direccion-form-actions">
                                    <button type="button" id="btn-cancelar-direccion">
                                        Cancelar
                                    </button>
                                    <button type="submit" id="btn-guardar-direccion">
                                        Guardar dirección
                                    </button>
                                </div>

                                <p id="direccion-mensaje" class="perfil-mensaje"></p>
                            </form>
                        </div>
                    </section>
                </div>
            </section>

            <!-- Fila inferior: pedidos -->
            <section class="usuario-card usuario-card-pedidos">
                <h2>Pedidos recientes</h2>
                <p class="usuario-subtitle">
                    Un vistazo a tus últimos pedidos.
                </p>
                <div id="lista-pedidos" class="usuario-lista usuario-lista-pedidos"></div>
            </section>
        </section>
    </main>

    <footer></footer>
</body>

</html>
